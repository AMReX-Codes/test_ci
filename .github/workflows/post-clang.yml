name: PostClang

on:
  workflow_run:
    workflows: [Clang]
    types:
      - completed

jobs:
  CleanUpCache:
    name: Clean Up Cache for ${{ github.event.workflow_run.name }}
    runs-on: ubuntu-latest
    permissions:
      actions: write
      contents: read
    env:
      GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    steps:
      - uses: actions/checkout@v3
      - name: Clean up ccahe
        run: |
          echo 'aaa'
          echo 'bbb'

          echo '${{ toJSON(github.event.workflow_run) }}'

          # event
          echo '${{ github.event.workflow_run.event }}'

          # triggering workflow name
          echo '${{ github.event.workflow_run.name }}'

          # PR number
          echo 'xxx${{ github.event.workflow_run.number }}xxx'

          # repo pulls_url
          echo 'xxx${{ github.event.workflow_run.repository.pulls_url }}xxx'

          # github.ref
          echo '${{ github.ref }}'
